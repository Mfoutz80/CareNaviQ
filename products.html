<!DOCTYPE html>
<html lang="en" class="scroll-smooth">
<head>
  <!-- Google tag (gtag.js) -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-N1SPXCJWH0"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'G-N1SPXCJWH0');
  </script>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <title>Care NaviQ - Select Service</title>

    <!-- Favicon -->
    <link rel="icon" type="image/svg+xml" href="logo.svg">

    <!-- Tailwind CSS CDN (v3) -->
    <script src="https://cdn.tailwindcss.com"></script>

    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css">

    <!-- Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Outfit:wght@300;400;500;600;700&family=Plus+Jakarta+Sans:wght@300;400;500;600;700&display=swap" rel="stylesheet">

    <!-- Tailwind Configuration -->
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    fontFamily: {
                        heading: ['Outfit', 'sans-serif'],
                        body: ['Plus Jakarta Sans', 'sans-serif']
                    },
                    colors: {
                        primary: { 50: '#ecfdf5', 100: '#d1fae5', 200: '#a7f3d0', 300: '#6ee7b7', 400: '#34d399', 500: '#10b981', 600: '#059669', 700: '#047857', 800: '#065f46', 900: '#064e3b', 950: '#022c22' },
                        secondary: { 50: '#eef2ff', 100: '#e0e7ff', 200: '#c7d2fe', 300: '#a5b4fc', 400: '#818cf8', 500: '#6366f1', 600: '#4f46e5', 700: '#4338ca', 800: '#3730a3', 900: '#312e81', 950: '#1e1b4b' },
                        neutral: { 50: '#f9fafb', 100: '#f3f4f6', 200: '#e5e7eb', 300: '#d1d5db', 400: '#9ca3af', 500: '#6b7280', 600: '#4b5563', 700: '#374151', 800: '#1f2937', 900: '#111827', 950: '#030712' },
                        danger: { 50: '#fff1f2', 100: '#ffe4e6', 200: '#fecdd3', 300: '#fda4af', 400: '#fb7185', 500: '#f43f5e', 600: '#e11d48', 700: '#be123c', 800: '#9f1239', 900: '#881337', 950: '#4c0519' }
                    },
                     boxShadow: { // Adding subtle shadow consistent with hover
                        'subtle': '0 4px 6px -1px rgb(0 0 0 / 0.05), 0 2px 4px -2px rgb(0 0 0 / 0.05)',
                     }
                }
            }
        }
    </script>

    <style>
        body {
            font-family: 'Plus Jakarta Sans', sans-serif;
            background-color: theme('colors.neutral.50');
            -webkit-font-smoothing: antialiased;
            -moz-osx-font-smoothing: grayscale;
        }
        h1, h2, h3, h4, h5, h6 { font-family: 'Outfit', sans-serif; }
        ::-webkit-scrollbar { width: 8px; }
        ::-webkit-scrollbar-track { background: theme('colors.neutral.100'); }
        ::-webkit-scrollbar-thumb { background: theme('colors.primary.500'); border-radius: 4px; }
        ::-webkit-scrollbar-thumb:hover { background: theme('colors.primary.600'); }

        /* Style for the modal content itself to ensure it's above the overlay */
        #premium-modal > div {
            position: relative;
            z-index: 70; /* Ensure content is above overlay */
        }
        /* Basic input styling */
        .form-input {
            @apply block w-full px-3 py-2 border border-neutral-300 rounded-md shadow-sm placeholder-neutral-400 focus:outline-none focus:ring-primary-500 focus:border-primary-500 sm:text-sm transition duration-150 ease-in-out;
        }
        .form-label {
             @apply block text-sm font-medium text-neutral-700 mb-1 text-left;
        }
    </style>
</head>
<body class="font-body">
  <!-- Header -->
  <div class="sticky top-0 z-50">
    <header class="bg-white shadow-md border-b border-neutral-200">
      <div class="container mx-auto px-4 sm:px-6 lg:px-8">
        <div class="flex items-center justify-between h-20">
          <!-- Logo -->
          <a href="index.html" class="flex items-center space-x-2 text-primary-600 transition-all duration-300 hover:opacity-80">
              <img src="logo.svg" alt="Care NaviQ Logo" class="h-8 w-auto" onerror="this.onerror=null; this.src='data:image/svg+xml,%3Csvg xmlns=\'http://www.w3.org/2000/svg\' viewBox=\'0 0 24 24\'%3E%3Cpath fill=\'%2316A34A\' d=\'M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-1 17.93c-3.95-.49-7-3.85-7-7.93 0-.62.08-1.21.21-1.79L9 15v1c0 1.1.9 2 2 2v1.93zm6.9-2.54c-.26-.81-1-1.39-1.9-1.39h-1v-3c0-.55-.45-1-1-1H8v-2h2c.55 0 1-.45 1-1V7h2c1.1 0 2-.9 2-2v-.41c2.93 1.19 5 4.06 5 7.41 0 2.08-.8 3.97-2.1 5.39z\'/%3E%3C/svg%3E'; this.classList.add('p-1');">
              <span class="font-heading font-bold text-2xl tracking-tight">Care<span class="text-neutral-900">NaviQ</span></span>
          </a>

          <!-- Navigation (Example) -->
          <nav class="hidden md:flex items-center space-x-8" x-data>
            <a href="index.html" class="text-neutral-700 hover:text-primary-600 font-medium transition-colors duration-300 flex items-center">
              <i class="fas fa-tachometer-alt mr-2"></i> Home
            </a>
            <a href="#" class="text-neutral-700 hover:text-primary-600 font-medium transition-colors duration-300 flex items-center">
              <i class="fas fa-chart-bar mr-2"></i> Reports
            </a>
            <div class="relative" x-data="{ open: false }" @click.outside="open = false">
              <button @click="open = !open" class="flex items-center text-neutral-700 hover:text-primary-600 font-medium transition-colors duration-300">
                <i class="fas fa-user-circle mr-2"></i> Profile
                <i class="fas fa-chevron-down ml-2 text-xs transition-transform duration-300" :class="{'rotate-180': open}"></i>
              </button>
              <!-- Profile Dropdown -->
              <div x-show="open" x-transition
                   class="absolute right-0 mt-2 w-48 bg-white rounded-md shadow-lg py-1 z-50 border border-neutral-200"
                   style="display: none;">
                <a href="#" class="block px-4 py-2 text-sm text-neutral-700 hover:bg-neutral-100 hover:text-primary-600">Account Settings</a>
                <a href="#" class="block px-4 py-2 text-sm text-neutral-700 hover:bg-neutral-100 hover:text-primary-600">Logout</a>
              </div>
            </div>
          </nav>
           <!-- Mobile Menu Button -->
           <button class="md:hidden text-neutral-700 focus:outline-none" aria-label="Toggle menu">
               <i class="fas fa-bars text-xl"></i>
           </button>
        </div>
      </div>
    </header>
  </div>

  <!-- Main Content -->
  <main class="container mx-auto px-4 sm:px-6 lg:px-8 py-12">
    <div class="mb-12 text-center">
      <h1 class="text-3xl md:text-4xl font-bold text-neutral-900 font-heading">Select a Service</h1>
      <p class="text-neutral-600 mt-2 text-lg">Choose from our range of healthcare analytics and management tools</p>
    </div>

    <!-- Service Cards Grid -->
    <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8 mb-16">

      <!-- Skilled Nursing Facilities Card -->
      <div class="group bg-white rounded-xl shadow-subtle border border-neutral-200 overflow-hidden transition-all duration-300 hover:shadow-xl hover:-translate-y-1.5 cursor-pointer flex flex-col" onclick="window.location.href='snf-entity-search.html'">
        <div class="border-t-4 border-primary-600"></div>
        <div class="p-6 text-center flex-grow flex flex-col">
          <i class="fas fa-hospital-user text-5xl text-primary-600 mb-6 transition-transform duration-300 group-hover:scale-110"></i>
          <h3 class="text-xl font-bold font-heading text-neutral-900 mb-3">Skilled Nursing Facilities</h3>
          <p class="text-neutral-600 text-sm leading-relaxed mb-6">Comprehensive analytics and insights for skilled nursing facility networks.</p>
          <ul class="space-y-2 text-left text-sm text-neutral-700 mb-6">
            <li class="flex items-start"><i class="fas fa-check-circle text-primary-500 mr-2 text-xs pt-1 shrink-0"></i>Facility ownership & network data</li>
            <li class="flex items-start"><i class="fas fa-check-circle text-primary-500 mr-2 text-xs pt-1 shrink-0"></i>Quality metrics & star ratings</li>
            <li class="flex items-start"><i class="fas fa-check-circle text-primary-500 mr-2 text-xs pt-1 shrink-0"></i>Financial performance indicators</li>
            <li class="flex items-start"><i class="fas fa-check-circle text-primary-500 mr-2 text-xs pt-1 shrink-0"></i>Geographic distribution maps</li>
          </ul>
          <div class="mt-auto pt-4">
            <button class="w-full sm:w-auto inline-block px-6 py-2.5 rounded-lg bg-primary-600 text-white font-medium hover:bg-primary-700 transition-colors duration-300 text-sm shadow-sm hover:shadow-md">
              Explore Now <i class="fas fa-arrow-right ml-1 text-xs"></i>
            </button>
          </div>
        </div>
      </div>

      <!-- Hospitals Card (Premium) -->
      <div class="group bg-white rounded-xl shadow-subtle border border-neutral-200 overflow-hidden transition-all duration-300 hover:shadow-xl hover:-translate-y-1.5 cursor-pointer relative flex flex-col" onclick="showPremiumFeatureModal('hospitals')">
        <div class="absolute top-3 right-3 bg-primary-600 text-white text-xs font-semibold px-3 py-1 rounded-full shadow flex items-center">
          <i class="fas fa-gem text-xs mr-1"></i>Premium
        </div>
        <div class="border-t-4 border-primary-600"></div>
        <div class="p-6 text-center flex-grow flex flex-col">
          <i class="fas fa-hospital text-5xl text-primary-600 mb-6 transition-transform duration-300 group-hover:scale-110"></i>
          <h3 class="text-xl font-bold font-heading text-neutral-900 mb-3">Hospitals</h3>
          <p class="text-neutral-600 text-sm leading-relaxed mb-6">In-depth hospital performance, quality benchmarks, and market analysis.</p>
          <ul class="space-y-2 text-left text-sm text-neutral-700 mb-6">
            <li class="flex items-start"><i class="fas fa-lock text-yellow-500 mr-2 text-xs pt-1 shrink-0"></i>Hospital comparison data</li>
            <li class="flex items-start"><i class="fas fa-lock text-yellow-500 mr-2 text-xs pt-1 shrink-0"></i>Patient outcome tracking</li>
            <li class="flex items-start"><i class="fas fa-lock text-yellow-500 mr-2 text-xs pt-1 shrink-0"></i>Readmission rate analysis</li>
            <li class="flex items-start"><i class="fas fa-lock text-yellow-500 mr-2 text-xs pt-1 shrink-0"></i>Cost effectiveness metrics</li>
          </ul>
          <div class="mt-auto pt-4">
            <button class="w-full sm:w-auto inline-block px-6 py-2.5 rounded-lg bg-primary-600 text-white font-medium hover:bg-primary-700 transition-colors duration-300 text-sm shadow-sm hover:shadow-md">
               <i class="fas fa-star mr-1 text-xs"></i> Learn More
            </button>
          </div>
        </div>
      </div>

      <!-- Dashboard Card (Premium) -->
      <div class="group bg-white rounded-xl shadow-subtle border border-neutral-200 overflow-hidden transition-all duration-300 hover:shadow-xl hover:-translate-y-1.5 cursor-pointer relative flex flex-col" onclick="showPremiumFeatureModal('dashboard')">
         <div class="absolute top-3 right-3 bg-primary-600 text-white text-xs font-semibold px-3 py-1 rounded-full shadow flex items-center">
            <i class="fas fa-gem text-xs mr-1"></i>Premium
         </div>
        <div class="border-t-4 border-primary-600"></div>
        <div class="p-6 text-center flex-grow flex flex-col">
          <i class="fas fa-chart-line text-5xl text-primary-600 mb-6 transition-transform duration-300 group-hover:scale-110"></i>
          <h3 class="text-xl font-bold font-heading text-neutral-900 mb-3">Dashboard</h3>
          <p class="text-neutral-600 text-sm leading-relaxed mb-6">Personalized analytics dashboard with customizable metrics and reports.</p>
          <ul class="space-y-2 text-left text-sm text-neutral-700 mb-6">
            <li class="flex items-start"><i class="fas fa-lock text-yellow-500 mr-2 text-xs pt-1 shrink-0"></i>Customizable data views</li>
            <li class="flex items-start"><i class="fas fa-lock text-yellow-500 mr-2 text-xs pt-1 shrink-0"></i>Real-time performance tracking</li>
            <li class="flex items-start"><i class="fas fa-lock text-yellow-500 mr-2 text-xs pt-1 shrink-0"></i>Exportable reports & insights</li>
            <li class="flex items-start"><i class="fas fa-lock text-yellow-500 mr-2 text-xs pt-1 shrink-0"></i>Trend identification tools</li>
          </ul>
          <div class="mt-auto pt-4">
             <button class="w-full sm:w-auto inline-block px-6 py-2.5 rounded-lg bg-primary-600 text-white font-medium hover:bg-primary-700 transition-colors duration-300 text-sm shadow-sm hover:shadow-md">
              <i class="fas fa-star mr-1 text-xs"></i> Learn More
            </button>
          </div>
        </div>
      </div>
    </div>

    <!-- Coming Soon Section -->
    <div class="mt-16 mb-8 text-center">
      <h2 class="text-2xl font-bold text-neutral-900 font-heading">Coming Soon</h2>
      <p class="text-neutral-600 mt-2">Our team is hard at work developing these additional services to enhance your healthcare intelligence.</p>
    </div>

    <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-8 max-w-4xl mx-auto">
      <!-- Home Health Card (Coming Soon) -->
      <div class="group bg-white rounded-xl shadow-subtle border border-neutral-200 overflow-hidden flex flex-col opacity-60">
         <div class="border-t-4 border-neutral-400"></div>
         <div class="p-6 text-center flex-grow flex flex-col">
            <i class="fas fa-home-user text-5xl text-neutral-500 mb-6"></i>
            <h3 class="text-xl font-bold font-heading text-neutral-800 mb-3">Home Health</h3>
            <p class="text-neutral-500 text-sm leading-relaxed mb-6">Analytics and performance tracking for home health agencies.</p>
            <div class="mt-auto pt-4">
               <button disabled class="w-full sm:w-auto inline-block px-6 py-2.5 rounded-lg bg-neutral-300 text-neutral-600 font-medium text-sm cursor-not-allowed">
                <i class="fas fa-hourglass-half mr-1 text-xs"></i> Coming Soon
               </button>
            </div>
        </div>
      </div>

      <!-- Behavioral Health Card (Coming Soon) -->
      <div class="group bg-white rounded-xl shadow-subtle border border-neutral-200 overflow-hidden flex flex-col opacity-60">
         <div class="border-t-4 border-neutral-400"></div>
         <div class="p-6 text-center flex-grow flex flex-col">
            <i class="fas fa-brain text-5xl text-neutral-500 mb-6"></i>
            <h3 class="text-xl font-bold font-heading text-neutral-800 mb-3">Behavioral Health</h3>
            <p class="text-neutral-500 text-sm leading-relaxed mb-6">Insights and analytics platform for behavioral health providers.</p>
             <div class="mt-auto pt-4">
               <button disabled class="w-full sm:w-auto inline-block px-6 py-2.5 rounded-lg bg-neutral-300 text-neutral-600 font-medium text-sm cursor-not-allowed">
                <i class="fas fa-hourglass-half mr-1 text-xs"></i> Coming Soon
               </button>
            </div>
        </div>
      </div>

      <!-- Placeholder -->
       <div class="group bg-neutral-50 border border-dashed border-neutral-300 rounded-xl flex items-center justify-center p-6 opacity-60 min-h-[200px]">
           <span class="text-neutral-400 text-sm italic text-center">More powerful analytics tools are on the way!</span>
       </div>
    </div>
  </main>

  <!-- Premium Feature Modal -->
  <div id="premium-modal" x-data="premiumModal()" x-show="showModal"
       @keydown.escape.window="closeModal()"
       x-transition:enter="ease-out duration-300"
       x-transition:enter-start="opacity-0"
       x-transition:enter-end="opacity-100"
       x-transition:leave="ease-in duration-200"
       x-transition:leave-start="opacity-100"
       x-transition:leave-end="opacity-0"
       class="fixed inset-0 bg-black/70 backdrop-blur-sm flex items-center justify-center z-[60] px-4 py-8 overflow-y-auto"
       style="display: none;">

    {/* Modal Content */}
    <div class="bg-white rounded-xl shadow-2xl p-6 sm:p-8 max-w-lg w-full transform transition-all m-auto"
         x-show="showModal"
         x-transition:enter="ease-out duration-300"
         x-transition:enter-start="opacity-0 scale-95"
         x-transition:enter-end="opacity-100 scale-100"
         x-transition:leave="ease-in duration-200"
         x-transition:leave-start="opacity-100 scale-100"
         x-transition:leave-end="opacity-0 scale-95"
         @click.outside="closeModal()">

      {/* Initial Content: Benefits + Buttons */}
      <div x-show="!showChatForm && !chatSubmitted">
          <div class="text-center mb-6">
              <i class="text-5xl text-primary-500 mb-4 inline-block" :class="modalIconClass"></i>
              <h3 class="text-2xl font-bold font-heading text-neutral-900 mb-2" x-text="modalTitle"></h3>
              <p class="text-neutral-600 mt-2" x-text="modalDescription"></p>
          </div>

          <div class="mb-8 px-4">
              <h4 class="text-lg font-semibold font-heading text-neutral-800 mb-3 text-center border-b pb-2">Unlock Premium Capabilities:</h4>
              <ul class="space-y-3 text-sm text-neutral-700 mt-4">
                  <template x-for="(benefit, index) in modalBenefits" :key="index">
                      <li class="flex items-start">
                          <i class="fas fa-check-circle text-primary-500 mr-3 text-base pt-0.5 shrink-0"></i>
                          <span x-text="benefit"></span>
                      </li>
                  </template>
              </ul>
              <p class="text-xs text-neutral-500 mt-6 text-center italic">Ready to dive deeper? Let us show you how!</p>
          </div>

          <div class="mt-8 flex flex-col sm:flex-row justify-center gap-4">
              <button @click="showChat()" class="px-6 py-3 rounded-lg bg-primary-600 text-white font-medium hover:bg-primary-700 transition-colors duration-300 shadow-sm hover:shadow-md flex-1 order-1 sm:order-2 inline-flex items-center justify-center">
                  <i class="fas fa-comments mr-2"></i> Talk to Sales
              </button>
              <button @click="closeModal()" class="px-6 py-3 rounded-lg bg-neutral-200 text-neutral-700 font-medium hover:bg-neutral-300 transition-colors duration-300 flex-1 order-2 sm:order-1">
                  Maybe Later
              </button>
          </div>
      </div>

       {/* Chat Form View */}
      <div x-show="showChatForm && !chatSubmitted" class="text-center">
            <i class="fas fa-headset text-4xl text-primary-500 mb-4"></i>
            <h3 class="text-xl font-bold font-heading text-neutral-900 mb-2">Connect with our Sales Team</h3>
            <p class="text-neutral-600 text-sm mb-6">Leave your details, and we'll get back to you shortly to discuss how CareNaviQ Premium can benefit you.</p>

            <form @submit.prevent="submitChat" class="space-y-4">
                 <div>
                    <label for="chat-name" class="form-label">Full Name</label>
                    <input type="text" id="chat-name" x-model="chatName" class="form-input" placeholder="e.g., Jane Doe" required>
                </div>
                 <div>
                    <label for="chat-email" class="form-label">Work Email</label>
                    <input type="email" id="chat-email" x-model="chatEmail" class="form-input" placeholder="e.g., jane.doe@company.com" required>
                </div>

                 {/* Error Message Area */}
                 <p x-show="chatError" x-text="chatError" class="text-red-600 text-sm mt-2"></p>

                 <div class="flex flex-col sm:flex-row gap-3 pt-4">
                    <button type="submit" class="w-full px-5 py-2.5 rounded-lg bg-primary-600 text-white font-medium hover:bg-primary-700 transition duration-150 ease-in-out order-1">
                       Request Contact
                    </button>
                     <button type="button" @click="closeModal()" class="w-full px-5 py-2.5 rounded-lg bg-neutral-200 text-neutral-700 font-medium hover:bg-neutral-300 transition duration-150 ease-in-out order-2">
                       Cancel
                    </button>
                </div>
            </form>
      </div>

      {/* Submission Confirmation View */}
      <div x-show="chatSubmitted" class="text-center py-6">
          <i class="fas fa-envelope-open-text text-5xl text-primary-500 mb-5"></i>
          <h3 class="text-xl font-bold font-heading text-neutral-900 mb-3">Thank You, <span x-text="chatName"></span>!</h3>
          <p class="text-neutral-600 mb-2">We've received your request.</p>
          <p class="text-neutral-600 mb-6 bg-primary-50 border border-primary-200 rounded-md p-4 text-sm">
              <i class="fas fa-info-circle mr-1 text-primary-600"></i> Currently, all our agents are busy assisting other clients. We value your interest and a member of our sales team will reach out to you via email at <strong x-text="chatEmail"></strong> shortly.
          </p>
          <button @click="closeModal()" class="px-6 py-2.5 rounded-lg bg-primary-600 text-white font-medium hover:bg-primary-700 transition-colors duration-300">
              Okay, Got It!
          </button>
      </div>

    </div>
  </div>


  <!-- Footer -->
  <footer class="bg-white mt-16 py-8 border-t border-neutral-200">
    <div class="container mx-auto px-4 sm:px-6 lg:px-8">
      <div class="flex flex-col md:flex-row justify-between items-center text-center md:text-left">
        <div class="mb-4 md:mb-0">
           <a href="index.html" class="flex items-center justify-center md:justify-start space-x-2 text-primary-600 mb-2 hover:opacity-80 transition-opacity">
                <img src="logo.svg" alt="Care NaviQ Logo" class="h-7 w-auto" onerror="this.onerror=null; this.src='data:image/svg+xml,%3Csvg xmlns=\'http://www.w3.org/2000/svg\' viewBox=\'0 0 24 24\'%3E%3Cpath fill=\'%2316A34A\' d=\'M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-1 17.93c-3.95-.49-7-3.85-7-7.93 0-.62.08-1.21.21-1.79L9 15v1c0 1.1.9 2 2 2v1.93zm6.9-2.54c-.26-.81-1-1.39-1.9-1.39h-1v-3c0-.55-.45-1-1-1H8v-2h2c.55 0 1-.45 1-1V7h2c1.1 0 2-.9 2-2v-.41c2.93 1.19 5 4.06 5 7.41 0 2.08-.8 3.97-2.1 5.39z\'/%3E%3C/svg%3E'; this.classList.add('p-1');">
                <span class="font-heading font-bold text-xl tracking-tight">Care<span class="text-neutral-900">NaviQ</span></span>
            </a>
        </div>
        <div class="text-sm text-neutral-600">
          © <span id="current-year"></span> Care NaviQ Inc. All rights reserved.
          <span class="mx-2 hidden sm:inline">|</span> <br class="sm:hidden">
          <a href="#" class="hover:text-primary-600 transition-colors">Privacy Policy</a>
          <span class="mx-1">·</span>
          <a href="#" class="hover:text-primary-600 transition-colors">Terms of Service</a>
        </div>
      </div>
    </div>
  </footer>

  <!-- Alpine.js -->
  <script defer src="https://cdn.jsdelivr.net/npm/@alpinejs/collapse@3.x.x/dist/cdn.min.js"></script>
  <script defer src="https://cdn.jsdelivr.net/npm/alpinejs@3.13.0/dist/cdn.min.js"></script>

  <script>
    document.getElementById('current-year').textContent = new Date().getFullYear();

    // --- Alpine.js Data for Modal ---
    function premiumModal() {
        return {
            showModal: false,
            modalTitle: 'Premium Feature',
            modalIconClass: 'fas fa-gem', // Default icon
            modalDescription: 'Access advanced features by upgrading your account.',
            modalBenefits: [], // Array to hold benefit strings
            featureIdentifier: '', // To know which feature triggered the modal

            // Chat simulation state
            showChatForm: false,
            chatName: '',
            chatEmail: '',
            chatSubmitted: false,
            chatError: '',

            openModal(feature) {
                this.featureIdentifier = feature;
                this.resetChatState(); // Ensure chat is reset when opening

                if (feature === 'hospitals') {
                    this.modalTitle = 'Unlock Hospital Insights';
                    this.modalIconClass = 'fas fa-hospital';
                    this.modalDescription = 'Gain access to detailed hospital performance metrics, comparisons, and quality benchmarks.';
                    this.modalBenefits = [
                        'Compare hospitals based on key performance indicators.',
                        'Analyze patient outcomes and readmission rates.',
                        'Benchmark against regional and national averages.',
                        'Evaluate cost-effectiveness and operational efficiency.',
                        'Identify top-performing hospitals and market trends.'
                    ];
                } else if (feature === 'dashboard') {
                    this.modalTitle = 'Unlock Your Custom Dashboard';
                    this.modalIconClass = 'fas fa-chart-line';
                    this.modalDescription = 'Get a personalized view of your critical data with customizable widgets and real-time tracking.';
                    this.modalBenefits = [
                        'Create custom reports tailored to your specific needs.',
                        'Track key metrics in real-time for instant insights.',
                        'Visualize data with interactive charts and graphs.',
                        'Easily export data and reports for presentations.',
                        'Identify emerging trends and opportunities quickly.'
                    ];
                } else {
                    this.modalTitle = 'Premium Feature Access';
                    this.modalIconClass = 'fas fa-gem';
                    this.modalDescription = 'This powerful feature is available for premium subscribers. Upgrade to unlock its full potential.';
                    this.modalBenefits = [
                        'Access exclusive data sets and analytics tools.',
                        'Receive priority support and updates.',
                        'Gain deeper insights to drive better decisions.'
                    ];
                }
                this.showModal = true;
            },

            closeModal() {
                this.showModal = false;
                // Reset chat state after transition finishes
                setTimeout(() => {
                    this.resetChatState();
                }, 300); // Match leave duration
            },

            resetChatState() {
                this.showChatForm = false;
                this.chatSubmitted = false;
                this.chatName = '';
                this.chatEmail = '';
                this.chatError = '';
            },

            // --- Chat Simulation Methods ---
            showChat() {
                this.chatError = ''; // Clear any previous error
                this.showChatForm = true;
                this.chatSubmitted = false; // Ensure confirmation isn't shown yet
            },

            submitChat() {
                this.chatError = ''; // Reset error

                // Basic Validation
                if (!this.chatName.trim() || !this.chatEmail.trim()) {
                    this.chatError = 'Please enter both your name and email.';
                    return;
                }
                 // Basic email format check (very simple)
                if (!this.chatEmail.includes('@') || !this.chatEmail.includes('.')) {
                    this.chatError = 'Please enter a valid email address.';
                    return;
                }

                // Simulate sending data (replace with actual API call if needed)
                console.log(`Chat submitted for feature: ${this.featureIdentifier}`);
                console.log(`Name: ${this.chatName}`);
                console.log(`Email: ${this.chatEmail}`);

                // Show confirmation message
                this.chatSubmitted = true;
                this.showChatForm = false; // Hide the form
            }
        }
    }

    // --- Global Helper Function to interact with Alpine ---
    function showPremiumFeatureModal(feature) {
        const modalElement = document.getElementById('premium-modal');
        if (modalElement && modalElement.__x) {
             modalElement.__x.data.openModal(feature);
        } else {
            console.error("Alpine.js modal component not found or initialized yet.");
             alert('This is a premium feature. Please contact support to learn more.');
        }
    }

     // Global close function - not strictly needed if using @click within Alpine, but can be useful
    function closeModalGlobally() {
       const modalElement = document.getElementById('premium-modal');
        if (modalElement && modalElement.__x) {
             modalElement.__x.data.closeModal();
        }
    }

  </script>

</body>
</html>